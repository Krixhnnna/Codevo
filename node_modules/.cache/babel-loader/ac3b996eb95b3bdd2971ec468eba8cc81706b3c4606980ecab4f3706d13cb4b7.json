{"ast":null,"code":"import{useRef,useEffect,useCallback}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const ClickSpark=_ref=>{let{sparkColor=\"#fff\",sparkSize=10,sparkRadius=15,sparkCount=8,duration=400,easing=\"ease-out\",extraScale=1.0}=_ref;const canvasRef=useRef(null);const sparksRef=useRef([]);const startTimeRef=useRef(null);useEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const parent=canvas.parentElement;if(!parent)return;let resizeTimeout;const resizeCanvas=()=>{const{width,height}=parent.getBoundingClientRect();if(canvas.width!==width||canvas.height!==height){canvas.width=width;canvas.height=height;}};const handleResize=()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(resizeCanvas,100);};const ro=new ResizeObserver(handleResize);ro.observe(parent);resizeCanvas();return()=>{ro.disconnect();clearTimeout(resizeTimeout);};},[]);const easeFunc=useCallback(t=>{switch(easing){case\"linear\":return t;case\"ease-in\":return t*t;case\"ease-in-out\":return t<0.5?2*t*t:-1+(4-2*t)*t;default:return t*(2-t);}},[easing]);const handleClick=useCallback(e=>{const canvas=canvasRef.current;if(!canvas)return;const rect=canvas.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;const now=performance.now();const newSparks=Array.from({length:sparkCount},(_,i)=>({x,y,angle:2*Math.PI*i/sparkCount,startTime:now}));sparksRef.current.push(...newSparks);},[sparkCount]);useEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext(\"2d\");let animationId;const draw=timestamp=>{if(!startTimeRef.current){startTimeRef.current=timestamp;}ctx.clearRect(0,0,canvas.width,canvas.height);sparksRef.current=sparksRef.current.filter(spark=>{const elapsed=timestamp-spark.startTime;if(elapsed>=duration){return false;}const progress=elapsed/duration;const eased=easeFunc(progress);const distance=eased*sparkRadius*extraScale;const lineLength=sparkSize*(1-eased);const x1=spark.x+distance*Math.cos(spark.angle);const y1=spark.y+distance*Math.sin(spark.angle);const x2=spark.x+(distance+lineLength)*Math.cos(spark.angle);const y2=spark.y+(distance+lineLength)*Math.sin(spark.angle);ctx.strokeStyle=sparkColor;ctx.lineWidth=2;ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke();return true;});animationId=requestAnimationFrame(draw);};animationId=requestAnimationFrame(draw);document.addEventListener(\"click\",handleClick);return()=>{cancelAnimationFrame(animationId);document.removeEventListener(\"click\",handleClick);};},[sparkColor,sparkSize,sparkRadius,sparkCount,duration,easeFunc,extraScale,handleClick]);return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',pointerEvents:'none',/* This div will not block clicks */zIndex:9999/* Ensure it's on top */},children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{width:\"100%\",height:\"100%\",display:\"block\",userSelect:\"none\",pointerEvents:\"none\"/* Canvas will NOT receive clicks directly *//* Removed temporary backgroundColor */}})});};export default ClickSpark;","map":{"version":3,"names":["useRef","useEffect","useCallback","jsx","_jsx","ClickSpark","_ref","sparkColor","sparkSize","sparkRadius","sparkCount","duration","easing","extraScale","canvasRef","sparksRef","startTimeRef","canvas","current","parent","parentElement","resizeTimeout","resizeCanvas","width","height","getBoundingClientRect","handleResize","clearTimeout","setTimeout","ro","ResizeObserver","observe","disconnect","easeFunc","t","handleClick","e","rect","x","clientX","left","y","clientY","top","now","performance","newSparks","Array","from","length","_","i","angle","Math","PI","startTime","push","ctx","getContext","animationId","draw","timestamp","clearRect","filter","spark","elapsed","progress","eased","distance","lineLength","x1","cos","y1","sin","x2","y2","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","requestAnimationFrame","document","addEventListener","cancelAnimationFrame","removeEventListener","style","position","pointerEvents","zIndex","children","ref","display","userSelect"],"sources":["/Users/krishnapandey/Desktop/Codevo/src/components/ClickSpark.jsx"],"sourcesContent":["import { useRef, useEffect, useCallback } from \"react\";\n\nconst ClickSpark = ({\n  sparkColor = \"#fff\",\n  sparkSize = 10,\n  sparkRadius = 15,\n  sparkCount = 8,\n  duration = 400,\n  easing = \"ease-out\",\n  extraScale = 1.0,\n}) => {\n  const canvasRef = useRef(null);\n  const sparksRef = useRef([]);     \n  const startTimeRef = useRef(null); \n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const parent = canvas.parentElement;\n    if (!parent) return;\n\n    let resizeTimeout;\n\n    const resizeCanvas = () => {\n      const { width, height } = parent.getBoundingClientRect();\n      if (canvas.width !== width || canvas.height !== height) {\n        canvas.width = width;\n        canvas.height = height;\n      }\n    };\n\n    const handleResize = () => {\n      clearTimeout(resizeTimeout);\n      resizeTimeout = setTimeout(resizeCanvas, 100);\n    };\n\n    const ro = new ResizeObserver(handleResize);\n    ro.observe(parent);\n\n    resizeCanvas();\n\n    return () => {\n      ro.disconnect();\n      clearTimeout(resizeTimeout);\n    };\n  }, []);\n\n  const easeFunc = useCallback(\n    (t) => {\n      switch (easing) {\n        case \"linear\":\n          return t;\n        case \"ease-in\":\n          return t * t;\n        case \"ease-in-out\":\n          return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n        default:\n          return t * (2 - t);\n      }\n    },\n    [easing]\n  );\n\n  const handleClick = useCallback((e) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    const now = performance.now();\n    const newSparks = Array.from({ length: sparkCount }, (_, i) => ({\n      x,\n      y,\n      angle: (2 * Math.PI * i) / sparkCount,\n      startTime: now,\n    }));\n\n    sparksRef.current.push(...newSparks);\n  }, [sparkCount]);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext(\"2d\");\n\n    let animationId;\n\n    const draw = (timestamp) => {\n      if (!startTimeRef.current) {\n        startTimeRef.current = timestamp; \n      }\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      sparksRef.current = sparksRef.current.filter((spark) => {\n        const elapsed = timestamp - spark.startTime;\n        if (elapsed >= duration) {\n          return false;\n        }\n\n        const progress = elapsed / duration;\n        const eased = easeFunc(progress);\n\n        const distance = eased * sparkRadius * extraScale;\n        const lineLength = sparkSize * (1 - eased);\n\n        const x1 = spark.x + distance * Math.cos(spark.angle);\n        const y1 = spark.y + distance * Math.sin(spark.angle);\n        const x2 = spark.x + (distance + lineLength) * Math.cos(spark.angle);\n        const y2 = spark.y + (distance + lineLength) * Math.sin(spark.angle);\n\n        ctx.strokeStyle = sparkColor;\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n\n        return true;\n      });\n\n      animationId = requestAnimationFrame(draw);\n    };\n\n    animationId = requestAnimationFrame(draw);\n\n    document.addEventListener(\"click\", handleClick);\n\n    return () => {\n      cancelAnimationFrame(animationId);\n      document.removeEventListener(\"click\", handleClick);\n    };\n  }, [\n    sparkColor,\n    sparkSize,\n    sparkRadius,\n    sparkCount,\n    duration,\n    easeFunc,\n    extraScale,\n    handleClick,\n  ]);\n\n  return (\n    <div \n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        pointerEvents: 'none', /* This div will not block clicks */\n        zIndex: 9999, /* Ensure it's on top */\n      }}\n    >\n      <canvas\n        ref={canvasRef}\n        style={{\n          width: \"100%\",\n          height: \"100%\",\n          display: \"block\",\n          userSelect: \"none\",\n          pointerEvents: \"none\", /* Canvas will NOT receive clicks directly */\n          /* Removed temporary backgroundColor */\n        }}\n      />\n    </div>\n  );\n};\n\nexport default ClickSpark; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}